{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@discussit/core/services/user/user.service\";\nimport * as i2 from \"@discussit/core/services/group/group.service\";\nimport * as i3 from \"@discussit/core/services/comment/comment.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/grid-list\";\nimport * as i8 from \"@angular/material/list\";\nimport * as i9 from \"@angular/material/tabs\";\nimport * as i10 from \"../profile-bookmarks/profile-bookmarks.component\";\nimport * as i11 from \"../profile-posts/profile-posts.component\";\nimport * as i12 from \"../profile-upvotes/profile-upvotes.component\";\nimport * as i13 from \"../profile-comments/profile-comments.component\";\nimport * as i14 from \"../profile-downvotes/profile-downvotes.component\";\nconst _c0 = a0 => [\"../../group\", a0];\nfunction ProfileComponent_button_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 25);\n    i0.ɵɵtext(1, \"Follow\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProfileComponent_button_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 25);\n    i0.ɵɵtext(1, \"Message\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProfileComponent_button_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 25);\n    i0.ɵɵtext(1, \"Report User\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProfileComponent_div_36_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \" Your groups \");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction ProfileComponent_div_36_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.user.username, \"'s groups \");\n  }\n}\nfunction ProfileComponent_div_36_mat_list_item_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-list-item\")(1, \"a\", 29);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const group_r2 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(2, _c0, group_r2.id));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(group_r2.name);\n  }\n}\nfunction ProfileComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"span\", 26);\n    i0.ɵɵtemplate(2, ProfileComponent_div_36_ng_container_2_Template, 2, 0, \"ng-container\", 27)(3, ProfileComponent_div_36_ng_template_3_Template, 1, 1, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"mat-nav-list\");\n    i0.ɵɵtemplate(6, ProfileComponent_div_36_mat_list_item_6_Template, 3, 4, \"mat-list-item\", 28);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const elseTemplate_r3 = i0.ɵɵreference(4);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.self)(\"ngIfElse\", elseTemplate_r3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.userGroups);\n  }\n}\nfunction ProfileComponent_div_37_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \" You're a moderator of these groups \");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction ProfileComponent_div_37_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.user.username, \"'s moderator of these groups \");\n  }\n}\nfunction ProfileComponent_div_37_mat_list_item_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-list-item\")(1, \"a\", 29);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const member_r4 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(2, _c0, member_r4.group.id));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(member_r4.group.name);\n  }\n}\nfunction ProfileComponent_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"span\", 26);\n    i0.ɵɵtemplate(2, ProfileComponent_div_37_ng_container_2_Template, 2, 0, \"ng-container\", 27)(3, ProfileComponent_div_37_ng_template_3_Template, 1, 1, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"mat-nav-list\");\n    i0.ɵɵtemplate(6, ProfileComponent_div_37_mat_list_item_6_Template, 3, 4, \"mat-list-item\", 28);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const elseTemplate_r5 = i0.ɵɵreference(4);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.self)(\"ngIfElse\", elseTemplate_r5);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.modGroups);\n  }\n}\nexport let ProfileComponent = /*#__PURE__*/(() => {\n  class ProfileComponent {\n    constructor(userService, groupService, commentService, route, router) {\n      this.userService = userService;\n      this.groupService = groupService;\n      this.commentService = commentService;\n      this.route = route;\n      this.router = router;\n      this.isLoading = false;\n      this.page = 1;\n      this.showLoader = false;\n      this.userGroups = [];\n      this.modGroups = [];\n      this.userComments = [];\n      this.self = false;\n    }\n    ngOnInit() {\n      this.currentUser = this.route.snapshot.params.username;\n      this.getAuthUser();\n      if (this.currentUser) {\n        this.getUserByUsername();\n      }\n      // this.getModeratorGroups();\n      this.getUserComments();\n    }\n    getAuthUser() {\n      this.userService.userInitialized.subscribe(initialized => {\n        if (initialized) {\n          this.userService.user.subscribe(response => {\n            this.user = response;\n            if (this.user && this.user.username == this.currentUser) {\n              this.self = true;\n            }\n          });\n        }\n      });\n    }\n    getUserByUsername() {\n      this.userService.getUserByUsername(this.currentUser).subscribe(response => {\n        this.profile = response;\n        this.getUserGroups();\n      });\n    }\n    getUserGroups() {\n      this.groupService.getUserGroups('', this.profile.id, '').subscribe(response => {\n        this.userGroups = response;\n      });\n    }\n    getUserComments() {\n      this.commentService.userComments(this.currentUser).subscribe(response => {\n        this.userComments = response;\n      });\n    }\n    getModeratorGroups() {\n      this.groupService.filterMembers('MODERATOR', '', this.user.id).subscribe(response => {\n        this.modGroups = response;\n      });\n    }\n    static {\n      this.ɵfac = function ProfileComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || ProfileComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.GroupService), i0.ɵɵdirectiveInject(i3.CommentService), i0.ɵɵdirectiveInject(i4.ActivatedRoute), i0.ɵɵdirectiveInject(i4.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ProfileComponent,\n        selectors: [[\"app-profiles\"]],\n        standalone: false,\n        decls: 38,\n        vars: 27,\n        consts: [[\"elseTemplate\", \"\"], [\"fxLayout\", \"row\", \"fxLayoutGap\", \"16px\"], [\"fxLayout\", \"column\", \"fxFlex\", \"70\", \"fxFlex.lt-lg\", \"100\", 1, \"profile-container\"], [1, \"width-100\"], [\"color\", \"warn\", \"dynamicHeight\", \"\", \"animationDuration\", \"0ms\", \"mat-align-tabs\", \"center\", 1, \"width-100\"], [\"label\", \"Posts\"], [1, \"content\"], [3, \"user\", \"self\", \"currentUser\"], [\"label\", \"Comments\"], [3, \"comments\", \"user\", \"self\", \"currentUser\"], [\"label\", \"Upvotes\"], [\"label\", \"Downvotes\"], [\"label\", \"Saved\"], [\"fxLayout\", \"column\", \"fxFlex\", \"30\", \"fxHide.lt-lg\", \"\", 1, \"\"], [1, \"related-section\"], [1, \"bg-blue\"], [1, \"user-avatar\"], [\"src\", \"https://cdn-icons-png.flaticon.com/512/3177/3177440.png\", \"height\", \"100\", \"width\", \"100\"], [\"fxLayout\", \"column\", 1, \"user-content\"], [1, \"font-bold\"], [1, \"color-tertiary\"], [1, \"font-light\", \"color-tertiary\", \"user-meta-text\"], [\"fxLayout\", \"row\", \"fxLayoutAlign\", \"center center\", \"fxLayoutGap\", \"12px\", 1, \"margin-y-4\"], [\"mat-stroked-button\", \"\", \"color\", \"primary\", 4, \"ngIf\"], [\"class\", \"related-section\", 4, \"ngIf\"], [\"mat-stroked-button\", \"\", \"color\", \"primary\"], [1, \"heading-5\", \"font-bold\"], [4, \"ngIf\", \"ngIfElse\"], [4, \"ngFor\", \"ngForOf\"], [\"matLine\", \"\", 3, \"routerLink\"]],\n        template: function ProfileComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"div\", 3)(3, \"mat-tab-group\", 4)(4, \"mat-tab\", 5)(5, \"div\", 6);\n            i0.ɵɵelement(6, \"app-profile-posts\", 7);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(7, \"mat-tab\", 8)(8, \"div\", 6);\n            i0.ɵɵelement(9, \"app-profile-comments\", 9);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(10, \"mat-tab\", 10)(11, \"div\", 6);\n            i0.ɵɵelement(12, \"app-profile-upvotes\", 7);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(13, \"mat-tab\", 11)(14, \"div\", 6);\n            i0.ɵɵelement(15, \"app-profile-downvotes\", 7);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(16, \"mat-tab\", 12)(17, \"div\", 6);\n            i0.ɵɵelement(18, \"app-profile-bookmarks\", 7);\n            i0.ɵɵelementEnd()()()()();\n            i0.ɵɵelementStart(19, \"div\", 13)(20, \"div\", 14);\n            i0.ɵɵelement(21, \"div\", 15);\n            i0.ɵɵelementStart(22, \"div\", 16);\n            i0.ɵɵelement(23, \"img\", 17);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(24, \"div\", 18)(25, \"span\", 19);\n            i0.ɵɵtext(26);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(27, \"span\", 20);\n            i0.ɵɵtext(28);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(29, \"span\", 21);\n            i0.ɵɵtext(30);\n            i0.ɵɵpipe(31, \"date\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(32, \"div\", 22);\n            i0.ɵɵtemplate(33, ProfileComponent_button_33_Template, 2, 0, \"button\", 23)(34, ProfileComponent_button_34_Template, 2, 0, \"button\", 23)(35, ProfileComponent_button_35_Template, 2, 0, \"button\", 23);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(36, ProfileComponent_div_36_Template, 7, 3, \"div\", 24)(37, ProfileComponent_div_37_Template, 7, 3, \"div\", 24);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"user\", ctx.user)(\"self\", ctx.self)(\"currentUser\", ctx.currentUser);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"comments\", ctx.userComments)(\"user\", ctx.user)(\"self\", ctx.self)(\"currentUser\", ctx.currentUser);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"user\", ctx.user)(\"self\", ctx.self)(\"currentUser\", ctx.currentUser);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"user\", ctx.user)(\"self\", ctx.self)(\"currentUser\", ctx.currentUser);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"user\", ctx.user)(\"self\", ctx.self)(\"currentUser\", ctx.currentUser);\n            i0.ɵɵadvance(8);\n            i0.ɵɵtextInterpolate2(\"\", ctx.profile.first_name, \" \", ctx.profile.last_name);\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate1(\"@\", ctx.profile.username);\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate1(\"User since \", i0.ɵɵpipeBind1(31, 25, ctx.profile.date_joined));\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", !ctx.self);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.self);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.self);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.userGroups.length);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.modGroups.length);\n          }\n        },\n        dependencies: [i5.NgForOf, i5.NgIf, i6.MatButton, i7.MatLine, i8.MatNavList, i8.MatListItem, i9.MatTab, i9.MatTabGroup, i4.RouterLink, i10.ProfileBookmarksComponent, i11.ProfilePostsComponent, i12.ProfileUpvotesComponent, i13.ProfileCommentsComponent, i14.ProfileDownvotesComponent, i5.DatePipe],\n        styles: [\".profile-container[_ngcontent-%COMP%]{margin-top:16px;border:1px solid #dedede;border-radius:8px;background-color:#fff}.profile-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:16px;background-color:inherit;width:auto}.related-section[_ngcontent-%COMP%]{background-color:#fff;min-height:300px;margin-top:16px;border:1px solid #dedede;border-radius:8px;padding:16px;position:relative}.related-section[_ngcontent-%COMP%]:first-child{padding:0}.mat-label-label[_ngcontent-%COMP%]{color:#232323;opacity:1}.bg-blue[_ngcontent-%COMP%]{background:url(https://images.pexels.com/photos/3695238/pexels-photo-3695238.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1);background-position:center;background-repeat:no-repeat;background-size:cover;border-radius:8px 8px 0 0;height:130px;width:inherit}.user-avatar[_ngcontent-%COMP%]{position:absolute;top:25%;left:35%}.user-content[_ngcontent-%COMP%]{margin-top:60px;text-align:center;gap:12px}.user-meta-text[_ngcontent-%COMP%]{font-size:14px}\"]\n      });\n    }\n  }\n  return ProfileComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}