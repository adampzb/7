{"ast":null,"code":"import { CdkDialogContainer, Dialog, DialogModule } from '@angular/cdk/dialog';\nimport { CdkPortalOutlet, PortalModule } from '@angular/cdk/portal';\nimport * as i0 from '@angular/core';\nimport { EventEmitter, inject, Component, ChangeDetectionStrategy, ViewEncapsulation, InjectionToken, Injector, Injectable, NgModule } from '@angular/core';\nimport { BidiModule } from '@angular/cdk/bidi';\nimport { BreakpointObserver, Breakpoints } from '@angular/cdk/layout';\nimport { _animationsDisabled } from './_animation-chunk.mjs';\nimport { createBlockScrollStrategy, createGlobalPositionStrategy } from '@angular/cdk/overlay';\nimport { ESCAPE, hasModifierKey } from '@angular/cdk/keycodes';\nimport { Subject, merge } from 'rxjs';\nimport { filter, take } from 'rxjs/operators';\nfunction MatBottomSheetContainer_ng_template_0_Template(rf, ctx) {}\nconst ENTER_ANIMATION = '_mat-bottom-sheet-enter';\nconst EXIT_ANIMATION = '_mat-bottom-sheet-exit';\nlet MatBottomSheetContainer = /*#__PURE__*/(() => {\n  class MatBottomSheetContainer extends CdkDialogContainer {\n    _breakpointSubscription;\n    _animationsDisabled = _animationsDisabled();\n    _animationState = 'void';\n    _animationStateChanged = new EventEmitter();\n    _destroyed;\n    constructor() {\n      super();\n      const breakpointObserver = inject(BreakpointObserver);\n      this._breakpointSubscription = breakpointObserver.observe([Breakpoints.Medium, Breakpoints.Large, Breakpoints.XLarge]).subscribe(() => {\n        const classList = this._elementRef.nativeElement.classList;\n        classList.toggle('mat-bottom-sheet-container-medium', breakpointObserver.isMatched(Breakpoints.Medium));\n        classList.toggle('mat-bottom-sheet-container-large', breakpointObserver.isMatched(Breakpoints.Large));\n        classList.toggle('mat-bottom-sheet-container-xlarge', breakpointObserver.isMatched(Breakpoints.XLarge));\n      });\n    }\n    enter() {\n      if (!this._destroyed) {\n        this._animationState = 'visible';\n        this._changeDetectorRef.markForCheck();\n        this._changeDetectorRef.detectChanges();\n        if (this._animationsDisabled) {\n          this._simulateAnimation(ENTER_ANIMATION);\n        }\n      }\n    }\n    exit() {\n      if (!this._destroyed) {\n        this._elementRef.nativeElement.setAttribute('mat-exit', '');\n        this._animationState = 'hidden';\n        this._changeDetectorRef.markForCheck();\n        if (this._animationsDisabled) {\n          this._simulateAnimation(EXIT_ANIMATION);\n        }\n      }\n    }\n    ngOnDestroy() {\n      super.ngOnDestroy();\n      this._breakpointSubscription.unsubscribe();\n      this._destroyed = true;\n    }\n    _simulateAnimation(name) {\n      this._ngZone.run(() => {\n        this._handleAnimationEvent(true, name);\n        setTimeout(() => this._handleAnimationEvent(false, name));\n      });\n    }\n    _trapFocus() {\n      super._trapFocus({\n        preventScroll: true\n      });\n    }\n    _handleAnimationEvent(isStart, animationName) {\n      const isEnter = animationName === ENTER_ANIMATION;\n      const isExit = animationName === EXIT_ANIMATION;\n      if (isEnter || isExit) {\n        this._animationStateChanged.emit({\n          toState: isEnter ? 'visible' : 'hidden',\n          phase: isStart ? 'start' : 'done'\n        });\n      }\n    }\n    static ɵfac = function MatBottomSheetContainer_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatBottomSheetContainer)();\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: MatBottomSheetContainer,\n      selectors: [[\"mat-bottom-sheet-container\"]],\n      hostAttrs: [\"tabindex\", \"-1\", 1, \"mat-bottom-sheet-container\"],\n      hostVars: 9,\n      hostBindings: function MatBottomSheetContainer_HostBindings(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵlistener(\"animationstart\", function MatBottomSheetContainer_animationstart_HostBindingHandler($event) {\n            return ctx._handleAnimationEvent(true, $event.animationName);\n          })(\"animationend\", function MatBottomSheetContainer_animationend_HostBindingHandler($event) {\n            return ctx._handleAnimationEvent(false, $event.animationName);\n          })(\"animationcancel\", function MatBottomSheetContainer_animationcancel_HostBindingHandler($event) {\n            return ctx._handleAnimationEvent(false, $event.animationName);\n          });\n        }\n        if (rf & 2) {\n          i0.ɵɵattribute(\"role\", ctx._config.role)(\"aria-modal\", ctx._config.ariaModal)(\"aria-label\", ctx._config.ariaLabel);\n          i0.ɵɵclassProp(\"mat-bottom-sheet-container-animations-enabled\", !ctx._animationsDisabled)(\"mat-bottom-sheet-container-enter\", ctx._animationState === \"visible\")(\"mat-bottom-sheet-container-exit\", ctx._animationState === \"hidden\");\n        }\n      },\n      features: [i0.ɵɵInheritDefinitionFeature],\n      decls: 1,\n      vars: 0,\n      consts: [[\"cdkPortalOutlet\", \"\"]],\n      template: function MatBottomSheetContainer_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, MatBottomSheetContainer_ng_template_0_Template, 0, 0, \"ng-template\", 0);\n        }\n      },\n      dependencies: [CdkPortalOutlet],\n      styles: [\"@keyframes _mat-bottom-sheet-enter{from{transform:translateY(100%)}to{transform:none}}@keyframes _mat-bottom-sheet-exit{from{transform:none}to{transform:translateY(100%)}}.mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;position:relative;background:var(--mat-bottom-sheet-container-background-color, var(--mat-sys-surface-container-low));color:var(--mat-bottom-sheet-container-text-color, var(--mat-sys-on-surface));font-family:var(--mat-bottom-sheet-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-bottom-sheet-container-text-size, var(--mat-sys-body-large-size));line-height:var(--mat-bottom-sheet-container-text-line-height, var(--mat-sys-body-large-line-height));font-weight:var(--mat-bottom-sheet-container-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-bottom-sheet-container-text-tracking, var(--mat-sys-body-large-tracking))}@media(forced-colors: active){.mat-bottom-sheet-container{outline:1px solid}}.mat-bottom-sheet-container-animations-enabled{transform:translateY(100%)}.mat-bottom-sheet-container-animations-enabled.mat-bottom-sheet-container-enter{animation:_mat-bottom-sheet-enter 195ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-bottom-sheet-container-animations-enabled.mat-bottom-sheet-container-exit{animation:_mat-bottom-sheet-exit 375ms cubic-bezier(0.4, 0, 1, 1) backwards}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape, 28px);border-top-right-radius:var(--mat-bottom-sheet-container-shape, 28px)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\\n\"],\n      encapsulation: 2\n    });\n  }\n  return MatBottomSheetContainer;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst MAT_BOTTOM_SHEET_DATA = /*#__PURE__*/new InjectionToken('MatBottomSheetData');\nclass MatBottomSheetConfig {\n  viewContainerRef;\n  injector;\n  panelClass;\n  direction;\n  data = null;\n  hasBackdrop = true;\n  backdropClass;\n  disableClose = false;\n  ariaLabel = null;\n  ariaModal = false;\n  closeOnNavigation = true;\n  autoFocus = 'first-tabbable';\n  restoreFocus = true;\n  scrollStrategy;\n  height = '';\n  minHeight;\n  maxHeight;\n}\nclass MatBottomSheetRef {\n  _ref;\n  get instance() {\n    return this._ref.componentInstance;\n  }\n  get componentRef() {\n    return this._ref.componentRef;\n  }\n  containerInstance;\n  disableClose;\n  _afterOpened = /*#__PURE__*/new Subject();\n  _result;\n  _closeFallbackTimeout;\n  constructor(_ref, config, containerInstance) {\n    this._ref = _ref;\n    this.containerInstance = containerInstance;\n    this.disableClose = config.disableClose;\n    containerInstance._animationStateChanged.pipe(filter(event => event.phase === 'done' && event.toState === 'visible'), take(1)).subscribe(() => {\n      this._afterOpened.next();\n      this._afterOpened.complete();\n    });\n    containerInstance._animationStateChanged.pipe(filter(event => event.phase === 'done' && event.toState === 'hidden'), take(1)).subscribe(() => {\n      clearTimeout(this._closeFallbackTimeout);\n      this._ref.close(this._result);\n    });\n    _ref.overlayRef.detachments().subscribe(() => {\n      this._ref.close(this._result);\n    });\n    merge(this.backdropClick(), this.keydownEvents().pipe(filter(event => event.keyCode === ESCAPE))).subscribe(event => {\n      if (!this.disableClose && (event.type !== 'keydown' || !hasModifierKey(event))) {\n        event.preventDefault();\n        this.dismiss();\n      }\n    });\n  }\n  dismiss(result) {\n    if (!this.containerInstance) {\n      return;\n    }\n    this.containerInstance._animationStateChanged.pipe(filter(event => event.phase === 'start'), take(1)).subscribe(() => {\n      this._closeFallbackTimeout = setTimeout(() => this._ref.close(this._result), 500);\n      this._ref.overlayRef.detachBackdrop();\n    });\n    this._result = result;\n    this.containerInstance.exit();\n    this.containerInstance = null;\n  }\n  afterDismissed() {\n    return this._ref.closed;\n  }\n  afterOpened() {\n    return this._afterOpened;\n  }\n  backdropClick() {\n    return this._ref.backdropClick;\n  }\n  keydownEvents() {\n    return this._ref.keydownEvents;\n  }\n}\nconst MAT_BOTTOM_SHEET_DEFAULT_OPTIONS = /*#__PURE__*/new InjectionToken('mat-bottom-sheet-default-options');\nlet MatBottomSheet = /*#__PURE__*/(() => {\n  class MatBottomSheet {\n    _injector = inject(Injector);\n    _parentBottomSheet = inject(MatBottomSheet, {\n      optional: true,\n      skipSelf: true\n    });\n    _animationsDisabled = _animationsDisabled();\n    _defaultOptions = inject(MAT_BOTTOM_SHEET_DEFAULT_OPTIONS, {\n      optional: true\n    });\n    _bottomSheetRefAtThisLevel = null;\n    _dialog = inject(Dialog);\n    get _openedBottomSheetRef() {\n      const parent = this._parentBottomSheet;\n      return parent ? parent._openedBottomSheetRef : this._bottomSheetRefAtThisLevel;\n    }\n    set _openedBottomSheetRef(value) {\n      if (this._parentBottomSheet) {\n        this._parentBottomSheet._openedBottomSheetRef = value;\n      } else {\n        this._bottomSheetRefAtThisLevel = value;\n      }\n    }\n    constructor() {}\n    open(componentOrTemplateRef, config) {\n      const _config = {\n        ...(this._defaultOptions || new MatBottomSheetConfig()),\n        ...config\n      };\n      let ref;\n      this._dialog.open(componentOrTemplateRef, {\n        ..._config,\n        disableClose: true,\n        closeOnOverlayDetachments: false,\n        maxWidth: '100%',\n        container: MatBottomSheetContainer,\n        scrollStrategy: _config.scrollStrategy || createBlockScrollStrategy(this._injector),\n        positionStrategy: createGlobalPositionStrategy(this._injector).centerHorizontally().bottom('0'),\n        disableAnimations: this._animationsDisabled,\n        templateContext: () => ({\n          bottomSheetRef: ref\n        }),\n        providers: (cdkRef, _cdkConfig, container) => {\n          ref = new MatBottomSheetRef(cdkRef, _config, container);\n          return [{\n            provide: MatBottomSheetRef,\n            useValue: ref\n          }, {\n            provide: MAT_BOTTOM_SHEET_DATA,\n            useValue: _config.data\n          }];\n        }\n      });\n      ref.afterDismissed().subscribe(() => {\n        if (this._openedBottomSheetRef === ref) {\n          this._openedBottomSheetRef = null;\n        }\n      });\n      if (this._openedBottomSheetRef) {\n        this._openedBottomSheetRef.afterDismissed().subscribe(() => ref.containerInstance?.enter());\n        this._openedBottomSheetRef.dismiss();\n      } else {\n        ref.containerInstance.enter();\n      }\n      this._openedBottomSheetRef = ref;\n      return ref;\n    }\n    dismiss(result) {\n      if (this._openedBottomSheetRef) {\n        this._openedBottomSheetRef.dismiss(result);\n      }\n    }\n    ngOnDestroy() {\n      if (this._bottomSheetRefAtThisLevel) {\n        this._bottomSheetRefAtThisLevel.dismiss();\n      }\n    }\n    static ɵfac = function MatBottomSheet_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatBottomSheet)();\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: MatBottomSheet,\n      factory: MatBottomSheet.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return MatBottomSheet;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MatBottomSheetModule = /*#__PURE__*/(() => {\n  class MatBottomSheetModule {\n    static ɵfac = function MatBottomSheetModule_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || MatBottomSheetModule)();\n    };\n    static ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n      type: MatBottomSheetModule\n    });\n    static ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n      providers: [MatBottomSheet],\n      imports: [DialogModule, PortalModule, BidiModule]\n    });\n  }\n  return MatBottomSheetModule;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nexport { MAT_BOTTOM_SHEET_DATA, MAT_BOTTOM_SHEET_DEFAULT_OPTIONS, MatBottomSheet, MatBottomSheetConfig, MatBottomSheetContainer, MatBottomSheetModule, MatBottomSheetRef };\n//# sourceMappingURL=bottom-sheet.mjs.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}