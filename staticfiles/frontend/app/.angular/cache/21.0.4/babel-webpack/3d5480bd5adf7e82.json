{"ast":null,"code":"import { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@discussit/core/services/report/report.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/material/button-toggle\";\nfunction ReportDialogComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"mat-button-toggle\", 7);\n    i0.ɵɵlistener(\"change\", function ReportDialogComponent_ng_container_3_Template_mat_button_toggle_change_1_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.radioSelectEvent($event));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const type_r3 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"value\", type_r3)(\"disableRipple\", true);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(type_r3.title);\n  }\n}\nfunction ReportDialogComponent_p_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r1.selectedType.info);\n  }\n}\nexport let ReportDialogComponent = /*#__PURE__*/(() => {\n  class ReportDialogComponent {\n    constructor(dialogRef, data, reportService) {\n      this.dialogRef = dialogRef;\n      this.data = data;\n      this.reportService = reportService;\n      this.validateUrlRegex = /(^|\\s)((https?:\\/\\/)?[\\w-]+(\\.[\\w-]+)+\\.?(:\\d+)?(\\/\\S*)?)/gi;\n      this.reportInfoControl = new FormControl();\n      this.urlControl = new FormControl('', {\n        validators: [Validators.required, Validators.pattern(this.validateUrlRegex)]\n      });\n      this.typeControl = new FormControl();\n      this.types = [];\n    }\n    ngOnInit() {\n      // this.isLoading = true;\n      // this.slug = this.data.slug ? this.data.slug : null;\n      // this.source = this.data.source;\n      // if (!this.source || !this.sources.includes(this.source)) {\n      //   throw new Error('A valid source is required');\n      // }\n      // this.reporter = this.data.user?.id;\n      this.getReportTypes();\n      // if (this.data.url) {\n      //   this.urlControl.setValue(this.data.url);\n      // } else {\n      //   this.urlControl.setValue(window.location.href);\n      // }\n      // this.readOnlyUrl = this.urlControl.value ? true : false ;\n    }\n    getReportTypes() {\n      this.reportService.getReportTypes().subscribe(response => {\n        this.types = response;\n      });\n    }\n    radioSelectEvent(event) {\n      console.log(event);\n      this.selectedType = event.value;\n    }\n    create() {\n      this.dialogRef.close(this.selectedType);\n    }\n    closeDialog() {\n      this.dialogRef.close();\n    }\n    static {\n      this.ɵfac = function ReportDialogComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || ReportDialogComponent)(i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i2.ReportService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ReportDialogComponent,\n        selectors: [[\"app-report-dialog\"]],\n        standalone: false,\n        decls: 11,\n        vars: 2,\n        consts: [[2, \"margin-top\", \"0\"], [\"name\", \"reportType\", \"aria-label\", \"Report Type\", 1, \"report-section\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"report-subtext\", 4, \"ngIf\"], [1, \"flex-buttons\"], [\"mat-stroked-button\", \"\", \"color\", \"warn\", 3, \"click\"], [\"mat-flat-button\", \"\", \"color\", \"warn\", 3, \"click\"], [1, \"report-toggle-button\", 3, \"change\", \"value\", \"disableRipple\"], [1, \"report-subtext\"]],\n        template: function ReportDialogComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"h3\", 0);\n            i0.ɵɵtext(1, \"Submit a report\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(2, \"mat-button-toggle-group\", 1);\n            i0.ɵɵtemplate(3, ReportDialogComponent_ng_container_3_Template, 3, 3, \"ng-container\", 2);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"div\");\n            i0.ɵɵtemplate(5, ReportDialogComponent_p_5_Template, 2, 1, \"p\", 3);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"div\", 4)(7, \"button\", 5);\n            i0.ɵɵlistener(\"click\", function ReportDialogComponent_Template_button_click_7_listener() {\n              return ctx.closeDialog();\n            });\n            i0.ɵɵtext(8, \"Cancel\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"button\", 6);\n            i0.ɵɵlistener(\"click\", function ReportDialogComponent_Template_button_click_9_listener() {\n              return ctx.create();\n            });\n            i0.ɵɵtext(10, \"Submit\");\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngForOf\", ctx.types);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.selectedType);\n          }\n        },\n        dependencies: [i3.NgForOf, i3.NgIf, i4.MatButton, i5.MatButtonToggleGroup, i5.MatButtonToggle],\n        styles: [\".report-subtext[_ngcontent-%COMP%]{color:#707070;font-size:12px}.report-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;border:none}.report-toggle-button[_ngcontent-%COMP%], .report-toggle-button[_ngcontent-%COMP%]:hover, .report-toggle-button[_ngcontent-%COMP%]:focus{border:none;border-radius:30px;font-size:14px}.report-toggle-button[_ngcontent-%COMP%]:active, .report-toggle-button[_ngcontent-%COMP%]:hover:active, .report-toggle-button[_ngcontent-%COMP%]:focus:active{background-color:#f14a25;color:#fff}.mat-button-toggle-group-appearance-standard[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%] + .mat-button-toggle[_ngcontent-%COMP%]{border:none}.mat-button-toggle-checked.mat-button-toggle-appearance-standard[_ngcontent-%COMP%]{background:#f15a24;color:#fff}.mat-button-toggle-focus-overlay[_ngcontent-%COMP%]{opacity:1!important}.mat-button-toggle-checked[_ngcontent-%COMP%]   .mat-button-toggle-focus-overlay[_ngcontent-%COMP%]{border-bottom:none!important}.mat-button-toggle-appearance-standard[_ngcontent-%COMP%]   .mat-button-toggle-label-content[_ngcontent-%COMP%]{line-height:36px!important}.flex-buttons[_ngcontent-%COMP%]{display:flex;gap:16px;margin-top:16px;justify-content:flex-end}\"]\n      });\n    }\n  }\n  return ReportDialogComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}