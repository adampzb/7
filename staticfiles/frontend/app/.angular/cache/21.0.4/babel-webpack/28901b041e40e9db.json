{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@discussit/core/services/user/user.service\";\nimport * as i3 from \"@discussit/core/services/post/post.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/card\";\nimport * as i6 from \"@angular/material/icon\";\nimport * as i7 from \"@angular/material/progress-spinner\";\nimport * as i8 from \"../../comments/comment-group/comment-group.component\";\nimport * as i9 from \"@discussit/core/pipes/safe-content/safe-content.pipe\";\nfunction PostDetailComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"mat-card\", 2);\n    i0.ɵɵelement(2, \"mat-spinner\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"diameter\", 30);\n  }\n}\nfunction PostDetailComponent_ng_template_1_app_comment_group_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-comment-group\", 10);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"uuid\", ctx_r0.post.uuid)(\"user\", ctx_r0.user)(\"commentable\", ctx_r0.post.status === \"ARCHIVED\" ? false : true)(\"max_nest_depth\", 5);\n  }\n}\nfunction PostDetailComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 4)(1, \"h1\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"p\", 5);\n    i0.ɵɵpipe(4, \"safeContent\");\n    i0.ɵɵelementStart(5, \"mat-icon\", 6);\n    i0.ɵɵtext(6, \"more_horiz\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"section\", 7)(8, \"p\", 8);\n    i0.ɵɵtext(9, \" Comments \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, PostDetailComponent_ng_template_1_app_comment_group_10_Template, 1, 4, \"app-comment-group\", 9);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.post == null ? null : ctx_r0.post.title);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"innerHtml\", i0.ɵɵpipeBind1(4, 3, ctx_r0.post.content), i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.post);\n  }\n}\nexport let PostDetailComponent = /*#__PURE__*/(() => {\n  class PostDetailComponent {\n    constructor(router, route, userService, postService) {\n      this.router = router;\n      this.route = route;\n      this.userService = userService;\n      this.postService = postService;\n      this.isLoading = true;\n    }\n    ngOnInit() {\n      this.post_uuid = this.route.snapshot.params.uuid;\n      this.getAuthUser();\n    }\n    getAuthUser() {\n      this.userService.userInitialized.subscribe(initialized => {\n        if (initialized) {\n          this.userService.user.subscribe(user => {\n            this.user = user;\n            // console.log(this.user);\n          });\n        }\n      });\n      this.getPostDetail();\n    }\n    getPostDetail() {\n      this.postService.getPostDetail(this.post_uuid).subscribe(response => {\n        this.post = response;\n        this.isLoading = false;\n      });\n    }\n    static {\n      this.ɵfac = function PostDetailComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || PostDetailComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.PostService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: PostDetailComponent,\n        selectors: [[\"app-post-detail\"]],\n        standalone: false,\n        decls: 3,\n        vars: 2,\n        consts: [[\"showContent\", \"\"], [4, \"ngIf\", \"ngIfElse\"], [\"fxLayout\", \"row-reverse\", \"fxLayoutAlign\", \"center center\", \"fxLayoutGap\", \"10px\", 1, \"post-card\", 2, \"height\", \"400px\"], [\"color\", \"warn\", 3, \"diameter\"], [1, \"post-card\"], [1, \"post-content\", 3, \"innerHtml\"], [1, \"separator-icon\"], [1, \"comment-section\"], [1, \"font-sm\", \"font-bold\", \"color-primary\"], [3, \"uuid\", \"user\", \"commentable\", \"max_nest_depth\", 4, \"ngIf\"], [3, \"uuid\", \"user\", \"commentable\", \"max_nest_depth\"]],\n        template: function PostDetailComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, PostDetailComponent_ng_container_0_Template, 3, 1, \"ng-container\", 1)(1, PostDetailComponent_ng_template_1_Template, 11, 5, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n          }\n          if (rf & 2) {\n            const showContent_r2 = i0.ɵɵreference(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.isLoading)(\"ngIfElse\", showContent_r2);\n          }\n        },\n        dependencies: [i4.NgIf, i5.MatCard, i6.MatIcon, i7.MatProgressSpinner, i8.CommentGroupComponent, i9.SafeContentPipe],\n        styles: [\".post-card[_ngcontent-%COMP%]{margin:16px 0;box-shadow:none;border:1px solid #dedede;border-radius:8px;display:flex;padding:20px;flex-direction:column}.post-content[_ngcontent-%COMP%]{padding-bottom:20px}.separator-icon[_ngcontent-%COMP%]{font-size:60px;height:60px;color:#707070;text-align:center;width:auto}\"]\n      });\n    }\n  }\n  return PostDetailComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}