{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@discussit/core/services/user/user.service\";\nimport * as i2 from \"@discussit/core/services/post/post.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/progress-spinner\";\nimport * as i7 from \"../../post/post/post.component\";\nfunction ProfilePostsComponent_ng_container_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"app-post\", 5);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const post_r1 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"post\", post_r1)(\"showFooter\", false)(\"user_id\", ctx_r1.user.id);\n  }\n}\nfunction ProfilePostsComponent_ng_container_0_ng_container_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 6);\n    i0.ɵɵelement(2, \"mat-spinner\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"diameter\", 30);\n  }\n}\nfunction ProfilePostsComponent_ng_container_0_ng_container_2_ng_template_2_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function ProfilePostsComponent_ng_container_0_ng_container_2_ng_template_2_div_0_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r1.loadMorePosts());\n    });\n    i0.ɵɵtext(2, \"Load more posts\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfilePostsComponent_ng_container_0_ng_container_2_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, ProfilePostsComponent_ng_container_0_ng_container_2_ng_template_2_div_0_Template, 3, 0, \"div\", 8);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.showLoader && ctx_r1.next);\n  }\n}\nfunction ProfilePostsComponent_ng_container_0_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProfilePostsComponent_ng_container_0_ng_container_2_ng_container_1_Template, 3, 1, \"ng-container\", 2)(2, ProfilePostsComponent_ng_container_0_ng_container_2_ng_template_2_Template, 1, 1, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const buttonview_r4 = i0.ɵɵreference(3);\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.showLoader)(\"ngIfElse\", buttonview_r4);\n  }\n}\nfunction ProfilePostsComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProfilePostsComponent_ng_container_0_ng_container_1_Template, 2, 3, \"ng-container\", 3)(2, ProfilePostsComponent_ng_container_0_ng_container_2_Template, 4, 2, \"ng-container\", 4);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.posts);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.next);\n  }\n}\nfunction ProfilePostsComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h3\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", ctx_r1.currentUser, \" has not addded any posts yet\");\n  }\n}\nexport let ProfilePostsComponent = /*#__PURE__*/(() => {\n  class ProfilePostsComponent {\n    constructor(userService, postService, route, router) {\n      this.userService = userService;\n      this.postService = postService;\n      this.route = route;\n      this.router = router;\n      this.posts = [];\n      this.page = 1;\n      this.isLoading = false;\n      this.showLoader = false;\n    }\n    ngOnInit() {\n      this.getPosts();\n    }\n    getPosts() {\n      this.postService.filterPosts(this.page, '', '', '', this.currentUser).subscribe(response => {\n        this.posts = [...this.posts, ...response.results];\n        this.next = response.next;\n        if (this.next) {\n          this.page = parseInt(this.next.split('=')[1]);\n        }\n        this.isLoading = false;\n        this.showLoader = false;\n      }, err => {\n        console.log(err);\n        this.isLoading = false;\n        this.showLoader = false;\n      });\n    }\n    loadMorePosts() {\n      this.showLoader = true;\n      this.getPosts();\n    }\n    static {\n      this.ɵfac = function ProfilePostsComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || ProfilePostsComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.PostService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ProfilePostsComponent,\n        selectors: [[\"app-profile-posts\"]],\n        inputs: {\n          user: \"user\",\n          self: \"self\",\n          currentUser: \"currentUser\"\n        },\n        standalone: false,\n        decls: 3,\n        vars: 2,\n        consts: [[\"noPosts\", \"\"], [\"buttonview\", \"\"], [4, \"ngIf\", \"ngIfElse\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [3, \"post\", \"showFooter\", \"user_id\"], [\"fxLayout\", \"row\", \"fxLayoutAlign\", \"center center\", \"fxLayoutGap\", \"10px\", 2, \"height\", \"100px\"], [\"color\", \"warn\", 3, \"diameter\"], [\"fxLayout\", \"row\", \"fxLayoutAlign\", \"center center\", \"fxLayoutGap\", \"10px\", \"style\", \"height: 100px\", 4, \"ngIf\"], [\"mat-raised-button\", \"\", 3, \"click\"], [\"align\", \"center\", 1, \"font-bold\", \"color-tertiary\"]],\n        template: function ProfilePostsComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, ProfilePostsComponent_ng_container_0_Template, 3, 2, \"ng-container\", 2)(1, ProfilePostsComponent_ng_template_1_Template, 2, 1, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n          }\n          if (rf & 2) {\n            const noPosts_r5 = i0.ɵɵreference(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.posts.length)(\"ngIfElse\", noPosts_r5);\n          }\n        },\n        dependencies: [i4.NgForOf, i4.NgIf, i5.MatButton, i6.MatProgressSpinner, i7.PostComponent],\n        encapsulation: 2\n      });\n    }\n  }\n  return ProfilePostsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}